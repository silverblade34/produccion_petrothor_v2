"use strict";(self["webpackChunklogin_vue"]=self["webpackChunklogin_vue"]||[]).push([[754],{8804:function(a,e,t){t.d(e,{Ds:function(){return r},Kg:function(){return d},Lr:function(){return o},OY:function(){return i},eY:function(){return s}});var n=t(4161);const l="http://67.205.184.183:3000/api/";function i(a){return n.Z.get(`${l}unidades/list?codempresa=${a}`)}function r(a){return n.Z.get(`${l}unidades/search?idUnidad=${a}`)}function o(a,e,t,i){return n.Z.post(`${l}unidades/create`,{placa:a,codcisterna:e,capacidad:t,codempresa:i})}function d(a){return n.Z["delete"](`${l}unidades/delete?idUnidad=${a}`)}function s(a,e,t,i){return n.Z.put(`${l}unidades/edit`,{placa:a,codcisterna:e,capacidad:t,id:i})}},7380:function(a,e,t){t.d(e,{Z:function(){return u}});var n=t(3396),l=t(7139);const i={for:""},r=["name","value","placeholder"];function o(a,e,t,o,d,s){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("label",i,(0,l.zw)(t.label),1),(0,n._)("input",{type:"text",name:t.name,id:"",value:t.value,class:"input-item w-full py-2 px-3 rounded-lg mt-2 border",onInput:e[0]||(e[0]=e=>a.$emit("value-input",e.target.value)),placeholder:t.placeholder},null,40,r)])}var d={props:{label:String,name:String,placeholder:String,value:String}},s=t(89);const c=(0,s.Z)(d,[["render",o],["__scopeId","data-v-663f5afe"]]);var u=c},649:function(a,e,t){t.d(e,{Z:function(){return f}});var n=t(3396),l=t(7139);const i={class:"fixed inset-0 flex items-center justify-center z-50"},r=(0,n._)("div",{class:"absolute inset-0 bg-black opacity-30 pointer-events-none"},null,-1),o={class:"relative z-30 p-4 bg-white rounded-xl min-w-[350px] max-w-[450px]"},d=(0,n._)("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),s=(0,n._)("span",{class:"sr-only"},"Close modal",-1),c=[d,s],u={class:"p-6 text-center"},p=(0,n._)("svg",{"aria-hidden":"true",class:"mx-auto mb-4 w-14 h-14 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),m={class:"mb-5 text-lg font-normal text-gray-500"};function v(a,e,t,d,s,v){return(0,n.wg)(),(0,n.iD)("div",i,[r,(0,n._)("div",o,[(0,n._)("button",{type:"button",onClick:e[0]||(e[0]=(...a)=>d.cancelarEliminar&&d.cancelarEliminar(...a)),class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white","data-modal-hide":"popup-modal"},c),(0,n._)("div",u,[p,(0,n._)("h3",m,(0,l.zw)(t.pregunta),1),(0,n._)("button",{"data-modal-hide":"popup-modal",type:"button",onClick:e[1]||(e[1]=(...a)=>d.aceptarEliminar&&d.aceptarEliminar(...a)),class:"text-white bg-red-500 hover:bg-red-600 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2 ease-in duration-300"}," Si, eliminar "),(0,n._)("button",{"data-modal-hide":"popup-modal",type:"button",onClick:e[2]||(e[2]=(...a)=>d.cancelarEliminar&&d.cancelarEliminar(...a)),class:"text-white bg-gray-400 hover:bg-gray-500 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 focus:z-10 ease-in duration-300"},"No, cancelar")])])])}var g={name:"ModalDelete",props:{pregunta:String},emits:["aceptar-eliminar","cancelar-eliminar"],setup(a,{emit:e}){const t=()=>{e("aceptar-eliminar")},n=()=>{e("cancelar-eliminar")};return{aceptarEliminar:t,cancelarEliminar:n}}},x=t(89);const b=(0,x.Z)(g,[["render",v]]);var f=b},6595:function(a,e,t){t.d(e,{Z:function(){return b}});var n=t(3396);const l={class:"fixed inset-0 flex items-center justify-center z-50"},i=(0,n._)("div",{class:"absolute inset-0 bg-black opacity-30 pointer-events-none"},null,-1),r={class:"relative z-10 p-4 bg-white rounded-xl min-w-[350px] max-w-[450px]"},o={class:"p-2 text-gray-700 w-full h-full text-sm"},d=(0,n._)("h3",{class:"text-center font-bold text-lg"},"Editar cisterna",-1),s={class:"btns flex gap-2 justify-center items-center pt-2"};function c(a,e,t,c,u,p){const m=(0,n.up)("ItemForm");return(0,n.wg)(),(0,n.iD)("div",l,[i,(0,n._)("div",r,[(0,n._)("form",o,[d,(0,n.Wm)(m,{onValueInput:c.savePlaca,label:"Placa",name:"placa",placeholder:"Inserte la placa",value:c.placa},null,8,["onValueInput","value"]),(0,n.Wm)(m,{onValueInput:c.saveCodcisterna,label:"Codigo cisterna",name:"codcisterna",placeholder:"Inserte un codigo para la cisterna",value:c.codcisterna},null,8,["onValueInput","value"]),(0,n.Wm)(m,{onValueInput:c.saveCapacidad,label:"Capacidad",name:"capacidad",placeholder:"Inserte su capacidad",value:c.capacidad},null,8,["onValueInput","value"])]),(0,n._)("div",s,[(0,n._)("button",{onClick:e[0]||(e[0]=(...a)=>c.closeModal&&c.closeModal(...a)),class:"bg-gray-400 hover:bg-gray-500 text-white text-sm p-2 px-8 rounded-xl transition duration-300"},"Cerrar"),(0,n._)("button",{onClick:e[1]||(e[1]=(...a)=>c.saveDatos&&c.saveDatos(...a)),class:"bg-blue-400 hover:bg-blue-500 text-white text-sm p-2 px-8 rounded-xl transition duration-300"},"Actualizar")])])])}var u=t(4870),p=t(7380),m=t(8804),v={name:"ModalEditar",components:{ItemForm:p.Z},props:{idUnidad:String},emits:["cancelar-editar","save-datos"],setup(a,{emit:e}){const t=(0,u.iH)(""),l=(0,u.iH)(""),i=(0,u.iH)(""),r=()=>{e("cancelar-editar")},o=a=>{t.value=a},d=a=>{l.value=a},s=a=>{i.value=a},c=()=>{e("aceptar-editar",{id:a.idUnidad,placa:t.value,codcisterna:l.value,capacidad:i.value})};return(0,n.bv)((()=>{(0,m.Ds)(a.idUnidad).then((a=>{t.value=a.data.unidad[0].placa,i.value=a.data.unidad[0].capacidad,l.value=a.data.unidad[0].codcisterna}))})),{closeModal:r,savePlaca:o,saveCodcisterna:d,saveCapacidad:s,saveDatos:c,placa:t,capacidad:i,codcisterna:l}}},g=t(89);const x=(0,g.Z)(v,[["render",c]]);var b=x},2754:function(a,e,t){t.r(e),t.d(e,{default:function(){return q}});var n=t(3396),l=t(9242);const i=a=>((0,n.dD)("data-v-5d7bb790"),a=a(),(0,n.Cn)(),a),r={class:"min-h-full w-full pb-[3rem]"},o={class:"mb-8 flex justify-between items-center"},d=i((()=>(0,n._)("h3",{class:"text-2xl font-semibold text-neutral-600"},"Administrar cisternas",-1))),s={class:"overflow-x-auto shadow-md sm:rounded-lg"};function c(a,e,t,i,c,u){const p=(0,n.up)("TableUnidades"),m=(0,n.up)("ModalCreate"),v=(0,n.up)("ModalDelete"),g=(0,n.up)("ModalEditar");return(0,n.wg)(),(0,n.iD)("section",r,[(0,n._)("div",o,[d,(0,n._)("button",{onClick:e[0]||(e[0]=(...a)=>i.openModal&&i.openModal(...a)),class:"py-2 px-3 rounded-xl bg-orange-400 text-white text-sm hover:bg-orange-500 transition duration-300"}," Crear cisterna ")]),(0,n._)("div",s,[(0,n.Wm)(p,{listUnidades:i.listUnidades,onEliminarUnidad:i.eliminarUnidad,onEditarUnidad:i.editarUnidad},null,8,["listUnidades","onEliminarUnidad","onEditarUnidad"])]),(0,n.Wm)(l.uT,{name:"modal",mode:"out-in"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(m,{onCloseModal:i.closeModal,onSaveDatos:i.saveDatos},null,8,["onCloseModal","onSaveDatos"]),[[l.F8,i.openModalV]])])),_:1}),(0,n.Wm)(l.uT,{name:"modal",mode:"out-in"},{default:(0,n.w5)((()=>[i.confirmDelete?((0,n.wg)(),(0,n.j4)(v,{key:0,onAceptarEliminar:i.aceptarEliminar,onCancelarEliminar:i.cancelarEliminar,pregunta:"¿Estás seguro de eliminar esta unidad?"},null,8,["onAceptarEliminar","onCancelarEliminar"])):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(l.uT,{name:"modal",mode:"out-in"},{default:(0,n.w5)((()=>[i.openModalEdit?((0,n.wg)(),(0,n.j4)(g,{key:0,onAceptarEditar:i.aceptarEditar,onCancelarEditar:i.cancelarEditar,idUnidad:i.idUnidad},null,8,["onAceptarEditar","onCancelarEditar","idUnidad"])):(0,n.kq)("",!0)])),_:1})])}var u=t(4870),p=t(8804),m=t(7139);const v={class:"w-full text-xs text-left text-gray-800"},g=(0,n._)("thead",{class:"text-xs text-gray-700 uppercase bg-gray-100"},[(0,n._)("tr",null,[(0,n._)("th",{scope:"col",class:"px-6 py-3"}," Placa "),(0,n._)("th",{scope:"col",class:"px-6 py-3"}," Codigo cisterna "),(0,n._)("th",{scope:"col",class:"px-6 py-3"}," Capacidad "),(0,n._)("th",{scope:"col",class:"px-6 py-3"}," Codigo empresa "),(0,n._)("th",{scope:"col",class:"px-6 py-3"}," Acciones ")])],-1),x={class:"px-6 py-3"},b=(0,n._)("i",{class:"fa-solid fa-truck-field mr-2 text-blue-900"},null,-1),f={class:"px-6 py-3"},h={class:"px-6 py-3"},w={scope:"row",class:"px-6 py-3 font-medium text-gray-900 whitespace-nowrap"},_={class:"px-6 py-2 flex gap-2"},y=["onClick"],C=["onClick"];function E(a,e,t,i,r,o){return(0,n.wg)(),(0,n.iD)("table",v,[g,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.listUnidades,(a=>((0,n.wg)(),(0,n.iD)("tr",{key:a.id,class:"bg-white border-b hover:bg-gray-50 ease-in duration-300"},[(0,n._)("td",x,[b,(0,n.Uk)(" "+(0,m.zw)(a.placa),1)]),(0,n._)("td",f,(0,m.zw)(a.codcisterna),1),(0,n._)("td",h,(0,m.zw)(a.capacidad),1),(0,n._)("th",w,(0,m.zw)(a.codempresa),1),(0,n._)("td",_,[(0,n._)("button",{class:"font-medium py-[0.5rem] px-3 rounded-lg bg-green-500 hover:bg-green-600 ease-in duration-300 text-white",onClick:(0,l.iM)((e=>o.editarUnidad(a.id)),["prevent"])},"Editar",8,y),(0,n._)("button",{class:"font-medium py-[0.5rem] px-3 rounded-lg bg-red-500 hover:bg-red-600 ease-in duration-300 text-white",onClick:(0,l.iM)((e=>o.eliminarUnidad(a.id)),["prevent"])},"Eliminar",8,C)])])))),128))])])}var k={name:"TableUnidades",props:{listUnidades:Array},methods:{eliminarUnidad(a){this.$emit("eliminar-unidad",a)},editarUnidad(a){this.$emit("editar-unidad",a)}}},U=t(89);const M=(0,U.Z)(k,[["render",E]]);var D=M;const I={class:"fixed inset-0 flex items-center justify-center z-50"},Z=(0,n._)("div",{class:"absolute inset-0 bg-black opacity-30 pointer-events-none"},null,-1),z={class:"relative z-10 p-4 bg-white rounded-xl min-w-[350px] max-w-[450px]"},V={class:"p-2 text-gray-700 w-full h-full text-sm"},H=(0,n._)("h3",{class:"text-center font-bold text-lg"},"Crear cisterna",-1),W={class:"btns flex gap-2 justify-center items-center pt-2"};function $(a,e,t,l,i,r){const o=(0,n.up)("ItemForm");return(0,n.wg)(),(0,n.iD)("div",I,[Z,(0,n._)("div",z,[(0,n._)("form",V,[H,(0,n.Wm)(o,{onValueInput:l.savePlaca,label:"Placa",name:"placa",placeholder:"Inserte la placa",value:""},null,8,["onValueInput"]),(0,n.Wm)(o,{onValueInput:l.saveCodcisterna,label:"Codigo cisterna",name:"codcisterna",placeholder:"Inserte un codigo para la cisterna",value:""},null,8,["onValueInput"]),(0,n.Wm)(o,{onValueInput:l.saveCapacidad,label:"Capacidad",name:"capacidad",placeholder:"Inserte su capacidad"},null,8,["onValueInput"])]),(0,n._)("div",W,[(0,n._)("button",{onClick:e[0]||(e[0]=(...a)=>l.closeModal&&l.closeModal(...a)),class:"bg-gray-400 hover:bg-gray-500 text-white text-sm p-2 px-8 rounded-xl transition duration-300"},"Cerrar"),(0,n._)("button",{onClick:e[1]||(e[1]=(...a)=>l.saveDatos&&l.saveDatos(...a)),class:"bg-blue-400 hover:bg-blue-500 text-white text-sm p-2 px-8 rounded-xl transition duration-300"},"Crear")])])])}var j=t(7380),A={name:"ModalCreate",components:{ItemForm:j.Z},emits:["close-modal","save-datos"],setup(a,{emit:e}){const t=(0,u.iH)(""),n=(0,u.iH)(""),l=(0,u.iH)(""),i=()=>{e("close-modal")},r=a=>{t.value=a},o=a=>{n.value=a},d=a=>{l.value=a},s=()=>{e("save-datos",{placa:t.value,codcisterna:n.value,capacidad:l.value})};return{closeModal:i,savePlaca:r,saveCodcisterna:o,saveCapacidad:d,saveDatos:s}}};const S=(0,U.Z)(A,[["render",$]]);var P=S,L=t(649),T=t(6595),F=t(4239),Y={name:"AdminUnidades",components:{TableUnidades:D,ModalCreate:P,ModalDelete:L.Z,ModalEditar:T.Z},setup(){const a=(0,u.iH)(!1),e=(0,u.iH)(!1),t=(0,u.iH)(!1),l=(0,u.iH)([]),i=(0,u.iH)(""),r=()=>{a.value=!0},o=()=>{a.value=!1},d=a=>{i.value=a,t.value=!0},s=()=>{(0,p.Kg)(i.value).then((a=>{console.log(a.data),t.value=!1,i.value="",window.location.reload()})).catch((a=>{console.log(a)}))},c=()=>{t.value=!1},m=()=>{e.value=!1},v=a=>{i.value=a,e.value=!0},g=a=>{const t=a.placa,n=a.codcisterna,l=a.capacidad,i=a.id;(0,p.eY)(t,n,l,i).then((a=>{console.log(a.data),e.value=!1,window.location.reload()}))},x=e=>{const t=e.placa,n=e.codcisterna,l=e.capacidad;(0,p.Lr)(t,n,l,F.Z.state.codempresa).then((e=>{console.log(e.data),a.value=!1,window.location.reload()}))};return(0,n.bv)((()=>{(0,p.OY)(F.Z.state.codempresa).then((a=>{l.value=a.data.unidades}))})),{listUnidades:l,openModal:r,openModalV:a,closeModal:o,saveDatos:x,confirmDelete:t,eliminarUnidad:d,aceptarEliminar:s,cancelarEliminar:c,cancelarEditar:m,editarUnidad:v,openModalEdit:e,idUnidad:i,aceptarEditar:g}}};const K=(0,U.Z)(Y,[["render",c],["__scopeId","data-v-5d7bb790"]]);var q=K}}]);
//# sourceMappingURL=754.6349f16a.js.map