"use strict";(self["webpackChunklogin_vue"]=self["webpackChunklogin_vue"]||[]).push([[205],{8804:function(e,a,n){n.d(a,{Ds:function(){return i},Kg:function(){return c},Lr:function(){return r},OY:function(){return o},eY:function(){return d}});var t=n(4161);const l="http://67.205.184.183:3000/api/";function o(e){return t.Z.get(`${l}unidades/list?codempresa=${e}`)}function i(e){return t.Z.get(`${l}unidades/search?idUnidad=${e}`)}function r(e,a,n,o){return t.Z.post(`${l}unidades/create`,{placa:e,codcisterna:a,capacidad:n,codempresa:o})}function c(e){return t.Z["delete"](`${l}unidades/delete?idUnidad=${e}`)}function d(e,a,n,o){return t.Z.put(`${l}unidades/edit`,{placa:e,codcisterna:a,capacidad:n,id:o})}},7380:function(e,a,n){n.d(a,{Z:function(){return u}});var t=n(3396),l=n(7139);const o={for:""},i=["name","value","placeholder"];function r(e,a,n,r,c,d){return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("label",o,(0,l.zw)(n.label),1),(0,t._)("input",{type:"text",name:n.name,id:"",value:n.value,class:"input-item w-full py-2 px-3 rounded-lg mt-2 border",onInput:a[0]||(a[0]=a=>e.$emit("value-input",a.target.value)),placeholder:n.placeholder},null,40,i)])}var c={props:{label:String,name:String,placeholder:String,value:String}},d=n(89);const s=(0,d.Z)(c,[["render",r],["__scopeId","data-v-663f5afe"]]);var u=s},649:function(e,a,n){n.d(a,{Z:function(){return f}});var t=n(3396),l=n(7139);const o={class:"fixed inset-0 flex items-center justify-center z-50"},i=(0,t._)("div",{class:"absolute inset-0 bg-black opacity-30 pointer-events-none"},null,-1),r={class:"relative z-30 p-4 bg-white rounded-xl min-w-[350px] max-w-[450px]"},c=(0,t._)("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[(0,t._)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),d=(0,t._)("span",{class:"sr-only"},"Close modal",-1),s=[c,d],u={class:"p-6 text-center"},p=(0,t._)("svg",{"aria-hidden":"true",class:"mx-auto mb-4 w-14 h-14 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,t._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),m={class:"mb-5 text-lg font-normal text-gray-500"};function v(e,a,n,c,d,v){return(0,t.wg)(),(0,t.iD)("div",o,[i,(0,t._)("div",r,[(0,t._)("button",{type:"button",onClick:a[0]||(a[0]=(...e)=>c.cancelarEliminar&&c.cancelarEliminar(...e)),class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white","data-modal-hide":"popup-modal"},s),(0,t._)("div",u,[p,(0,t._)("h3",m,(0,l.zw)(n.pregunta),1),(0,t._)("button",{"data-modal-hide":"popup-modal",type:"button",onClick:a[1]||(a[1]=(...e)=>c.aceptarEliminar&&c.aceptarEliminar(...e)),class:"text-white bg-red-500 hover:bg-red-600 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2 ease-in duration-300"}," Si, eliminar "),(0,t._)("button",{"data-modal-hide":"popup-modal",type:"button",onClick:a[2]||(a[2]=(...e)=>c.cancelarEliminar&&c.cancelarEliminar(...e)),class:"text-white bg-gray-400 hover:bg-gray-500 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 focus:z-10 ease-in duration-300"},"No, cancelar")])])])}var g={name:"ModalDelete",props:{pregunta:String},emits:["aceptar-eliminar","cancelar-eliminar"],setup(e,{emit:a}){const n=()=>{a("aceptar-eliminar")},t=()=>{a("cancelar-eliminar")};return{aceptarEliminar:n,cancelarEliminar:t}}},b=n(89);const x=(0,b.Z)(g,[["render",v]]);var f=x},6595:function(e,a,n){n.d(a,{Z:function(){return x}});var t=n(3396);const l={class:"fixed inset-0 flex items-center justify-center z-50"},o=(0,t._)("div",{class:"absolute inset-0 bg-black opacity-30 pointer-events-none"},null,-1),i={class:"relative z-10 p-4 bg-white rounded-xl min-w-[350px] max-w-[450px]"},r={class:"p-2 text-gray-700 w-full h-full text-sm"},c=(0,t._)("h3",{class:"text-center font-bold text-lg"},"Editar cisterna",-1),d={class:"btns flex gap-2 justify-center items-center pt-2"};function s(e,a,n,s,u,p){const m=(0,t.up)("ItemForm");return(0,t.wg)(),(0,t.iD)("div",l,[o,(0,t._)("div",i,[(0,t._)("form",r,[c,(0,t.Wm)(m,{onValueInput:s.savePlaca,label:"Placa",name:"placa",placeholder:"Inserte la placa",value:s.placa},null,8,["onValueInput","value"]),(0,t.Wm)(m,{onValueInput:s.saveCodcisterna,label:"Codigo cisterna",name:"codcisterna",placeholder:"Inserte un codigo para la cisterna",value:s.codcisterna},null,8,["onValueInput","value"]),(0,t.Wm)(m,{onValueInput:s.saveCapacidad,label:"Capacidad",name:"capacidad",placeholder:"Inserte su capacidad",value:s.capacidad},null,8,["onValueInput","value"])]),(0,t._)("div",d,[(0,t._)("button",{onClick:a[0]||(a[0]=(...e)=>s.closeModal&&s.closeModal(...e)),class:"bg-gray-400 hover:bg-gray-500 text-white text-sm p-2 px-8 rounded-xl transition duration-300"},"Cerrar"),(0,t._)("button",{onClick:a[1]||(a[1]=(...e)=>s.saveDatos&&s.saveDatos(...e)),class:"bg-blue-400 hover:bg-blue-500 text-white text-sm p-2 px-8 rounded-xl transition duration-300"},"Actualizar")])])])}var u=n(4870),p=n(7380),m=n(8804),v={name:"ModalEditar",components:{ItemForm:p.Z},props:{idUnidad:String},emits:["cancelar-editar","save-datos"],setup(e,{emit:a}){const n=(0,u.iH)(""),l=(0,u.iH)(""),o=(0,u.iH)(""),i=()=>{a("cancelar-editar")},r=e=>{n.value=e},c=e=>{l.value=e},d=e=>{o.value=e},s=()=>{a("aceptar-editar",{id:e.idUnidad,placa:n.value,codcisterna:l.value,capacidad:o.value})};return(0,t.bv)((()=>{(0,m.Ds)(e.idUnidad).then((e=>{n.value=e.data.unidad[0].placa,o.value=e.data.unidad[0].capacidad,l.value=e.data.unidad[0].codcisterna}))})),{closeModal:i,savePlaca:r,saveCodcisterna:c,saveCapacidad:d,saveDatos:s,placa:n,capacidad:o,codcisterna:l}}},g=n(89);const b=(0,g.Z)(v,[["render",s]]);var x=b},2205:function(e,a,n){n.r(a),n.d(a,{default:function(){return re}});var t={};n.r(t),n.d(t,{Y:function(){return b},F:function(){return g}});var l=n(3396),o=n(9242);const i=e=>((0,l.dD)("data-v-b92aea30"),e=e(),(0,l.Cn)(),e),r={class:"min-h-full w-full pb-[3rem]"},c={class:"mb-8 flex justify-between items-center"},d=i((()=>(0,l._)("h3",{class:"text-2xl font-semibold text-neutral-600"},"Administrar clientes",-1))),s={class:"overflow-x-auto shadow-md sm:rounded-lg"};function u(e,a,n,t,i,u){const p=(0,l.up)("TableClientes"),m=(0,l.up)("ModalCreate"),v=(0,l.up)("ModalDelete"),g=(0,l.up)("ModalEditar");return(0,l.wg)(),(0,l.iD)("section",r,[(0,l._)("div",c,[d,(0,l._)("button",{onClick:a[0]||(a[0]=(...e)=>t.openModal&&t.openModal(...e)),class:"py-2 px-3 rounded-xl bg-orange-400 text-white text-sm hover:bg-orange-500 transition duration-300"}," Crear clientes ")]),(0,l._)("div",s,[(0,l.Wm)(p,{listClientes:t.listClientes,onEliminarUnidad:t.eliminarUnidad,onEditarUnidad:t.editarUnidad},null,8,["listClientes","onEliminarUnidad","onEditarUnidad"])]),(0,l.Wm)(o.uT,{name:"modal",mode:"out-in"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(m,{onCloseModal:t.closeModal,onSaveDatos:t.saveDatos},null,8,["onCloseModal","onSaveDatos"]),[[o.F8,t.openModalV]])])),_:1}),(0,l.Wm)(o.uT,{name:"modal",mode:"out-in"},{default:(0,l.w5)((()=>[t.confirmDelete?((0,l.wg)(),(0,l.j4)(v,{key:0,onAceptarEliminar:t.aceptarEliminar,onCancelarEliminar:t.cancelarEliminar,pregunta:"¿Estás seguro de eliminar esta unidad?"},null,8,["onAceptarEliminar","onCancelarEliminar"])):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(o.uT,{name:"modal",mode:"out-in"},{default:(0,l.w5)((()=>[t.openModalEdit?((0,l.wg)(),(0,l.j4)(g,{key:0,onAceptarEditar:t.aceptarEditar,onCancelarEditar:t.cancelarEditar,idUnidad:t.idUnidad},null,8,["onAceptarEditar","onCancelarEditar","idUnidad"])):(0,l.kq)("",!0)])),_:1})])}var p=n(4870),m=n(4161);const v="http://67.205.184.183:3000/api/";function g(e){return m.Z.get(`${v}clientes/list?codempresa=${e}`)}function b(e,a){return m.Z.post(`${v}clientes/create`,{codempresa:a,codcliente:e.codigoCliente,cliente:e.cliente,ruc:e.ruc,razon_social:e.razonSocial,ubigeo:e.ubigeo,direccion:e.direccion,correo_electronico:e.correo,telefono:e.telefono})}var x=n(7139);const f={class:"w-full text-xs text-left text-gray-800"},h=(0,l._)("thead",{class:"text-xs text-gray-700 uppercase bg-gray-100"},[(0,l._)("tr",null,[(0,l._)("th",{scope:"col",class:"px-6 py-3"}," Cliente "),(0,l._)("th",{scope:"col",class:"px-6 py-3"}," RUC "),(0,l._)("th",{scope:"col",class:"px-6 py-3"}," Razón social "),(0,l._)("th",{scope:"col",class:"px-6 py-3"}," Codigo cliente "),(0,l._)("th",{scope:"col",class:"px-6 py-3"}," Teléfono "),(0,l._)("th",{scope:"col",class:"px-6 py-3"}," Dirección "),(0,l._)("th",{scope:"col",class:"px-6 py-3"}," Correo "),(0,l._)("th",{scope:"col",class:"px-6 py-3"}," Acciones ")])],-1),w={class:"px-6 py-3"},_={class:"px-6 py-3"},C={class:"px-6 py-3"},y={scope:"row",class:"px-6 py-3 font-medium text-gray-900 whitespace-nowrap"},E={class:"px-6 py-3"},k={class:"px-6 py-3"},D={scope:"row",class:"px-6 py-3 font-medium text-gray-900 whitespace-nowrap"},U={class:"px-6 py-2 flex items-center h-full gap-2"},M=["onClick"],I=["onClick"];function z(e,a,n,t,i,r){return(0,l.wg)(),(0,l.iD)("table",f,[h,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.listClientes,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id,class:"bg-white border-b hover:bg-gray-50 ease-in duration-300"},[(0,l._)("td",w,(0,x.zw)(e.cliente),1),(0,l._)("td",_,(0,x.zw)(e.ruc),1),(0,l._)("td",C,(0,x.zw)(e.razon_social),1),(0,l._)("th",y,(0,x.zw)(e.codcliente),1),(0,l._)("td",E,(0,x.zw)(e.telefono),1),(0,l._)("td",k,(0,x.zw)(e.direccion),1),(0,l._)("th",D,(0,x.zw)(e.correo_electronico),1),(0,l._)("td",U,[(0,l._)("button",{class:"font-medium py-[0.5rem] px-3 rounded-lg bg-green-500 hover:bg-green-600 ease-in duration-300 text-white",onClick:(0,o.iM)((a=>r.editarUnidad(e.id)),["prevent"])},"Editar",8,M),(0,l._)("button",{class:"font-medium py-[0.5rem] px-3 rounded-lg bg-red-500 hover:bg-red-600 ease-in duration-300 text-white",onClick:(0,o.iM)((a=>r.eliminarUnidad(e.id)),["prevent"])},"Eliminar",8,I)])])))),128))])])}var V={name:"TableClientes",props:{listClientes:Array},methods:{eliminarUnidad(e){this.$emit("eliminar-unidad",e)},editarUnidad(e){this.$emit("editar-unidad",e)}}},Z=n(89);const H=(0,Z.Z)(V,[["render",z]]);var W=H;const $={class:"fixed inset-0 flex items-center justify-center z-50"},j=(0,l._)("div",{class:"absolute inset-0 bg-black opacity-30 pointer-events-none"},null,-1),S={class:"relative z-10 p-4 bg-white rounded-xl min-w-[350px] max-w-[450px]"},T={class:"p-2 text-gray-700 w-full h-full text-sm"},R=(0,l._)("h3",{class:"text-center font-bold text-lg"},"Crear cliente",-1),A={class:"dropdown"},F=(0,l._)("span",null,"Datos ubicación",-1),L=(0,l._)("i",{class:"fa-solid fa-angle-down"},null,-1),q=[F,L],Y={key:0,class:"dropdown-menu mx-2 px-2 py-3 rounded-md bg-slate-200"},P={class:"dropdown"},B=(0,l._)("span",null,"Datos contacto",-1),K=(0,l._)("i",{class:"fa-solid fa-angle-down"},null,-1),N=[B,K],O={key:0,class:"dropdown-menu mx-2 px-2 py-3 rounded-md bg-slate-200"},G={class:"btns flex gap-2 justify-center items-center pt-2"};function J(e,a,n,t,i,r){const c=(0,l.up)("ItemForm");return(0,l.wg)(),(0,l.iD)("div",$,[j,(0,l._)("div",S,[(0,l._)("form",T,[R,(0,l.Wm)(c,{onValueInput:t.saveCliente,label:"Cliente",name:"cliente",placeholder:"Nombre del cliente",value:""},null,8,["onValueInput"]),(0,l.Wm)(c,{onValueInput:t.saveRuc,label:"RUC",name:"ruc",placeholder:"Ruc del cliente",value:""},null,8,["onValueInput"]),(0,l.Wm)(c,{onValueInput:t.saveRazonsocial,label:"Razón social",name:"razon_social",placeholder:"Razón social del cliente"},null,8,["onValueInput"]),(0,l.Wm)(c,{onValueInput:t.saveCodigoCliente,label:"Codigo de cliente",name:"codigo_cliente",placeholder:"Codigo del cliente"},null,8,["onValueInput"]),(0,l._)("div",A,[(0,l._)("button",{class:"dropdown-toggle bg-orange-400 flex justify-between items-center w-full rounded-lg text-white px-5 py-2 mt-2",onClick:a[0]||(a[0]=(0,o.iM)(((...e)=>t.toggleUbicacion&&t.toggleUbicacion(...e)),["prevent"]))},q),t.mostrarUbicacion?((0,l.wg)(),(0,l.iD)("div",Y,[(0,l.Wm)(c,{onValueInput:t.saveDireccion,label:"Dirección",name:"direccion",placeholder:"Dirección del cliente"},null,8,["onValueInput"]),(0,l.Wm)(c,{onValueInput:t.saveUbigeo,label:"Ubigeo",name:"ubigeo",placeholder:"Ubigeo del cliente"},null,8,["onValueInput"])])):(0,l.kq)("",!0)]),(0,l._)("div",P,[(0,l._)("button",{class:"dropdown-toggle bg-orange-400 flex justify-between items-center w-full rounded-lg text-white px-5 py-2 mt-2",onClick:a[1]||(a[1]=(0,o.iM)(((...e)=>t.toggleContacto&&t.toggleContacto(...e)),["prevent"]))},N),t.mostrarContacto?((0,l.wg)(),(0,l.iD)("div",O,[(0,l.Wm)(c,{onValueInput:t.saveCorreo,label:"Correo",name:"correo",placeholder:"Correo del cliente"},null,8,["onValueInput"]),(0,l.Wm)(c,{onValueInput:t.saveTelefono,label:"Teléfono",name:"telefono",placeholder:"Teléfono del cliente"},null,8,["onValueInput"])])):(0,l.kq)("",!0)])]),(0,l._)("div",G,[(0,l._)("button",{onClick:a[2]||(a[2]=(...e)=>t.closeModal&&t.closeModal(...e)),class:"bg-gray-400 hover:bg-gray-500 text-white text-sm p-2 px-8 rounded-xl transition duration-300"},"Cerrar"),(0,l._)("button",{onClick:a[3]||(a[3]=(...e)=>t.saveDatos&&t.saveDatos(...e)),class:"bg-blue-400 hover:bg-blue-500 text-white text-sm p-2 px-8 rounded-xl transition duration-300"},"Crear")])])])}var Q=n(7380),X={name:"ModalCreate",components:{ItemForm:Q.Z},emits:["close-modal","save-datos"],setup(e,{emit:a}){const n=(0,p.iH)(""),t=(0,p.iH)(""),l=(0,p.iH)(""),o=(0,p.iH)(""),i=(0,p.iH)(""),r=(0,p.iH)(""),c=(0,p.iH)(""),d=(0,p.iH)(""),s=(0,p.iH)(!1),u=(0,p.iH)(!1),m=()=>{s.value=!s.value},v=()=>{u.value=!u.value},g=()=>{a("close-modal")},b=e=>{n.value=e},x=e=>{t.value=e},f=e=>{l.value=e},h=e=>{o.value=e},w=e=>{i.value=e},_=e=>{d.value=e},C=e=>{r.value=e},y=e=>{c.value=e},E=()=>{a("save-datos",{cliente:n.value,ruc:t.value,razonSocial:l.value,codigoCliente:o.value,direccion:i.value,ubigeo:d.value,correo:r.value,telefono:c.value})};return{closeModal:g,saveCliente:b,saveRuc:x,toggleUbicacion:m,toggleContacto:v,mostrarUbicacion:s,mostrarContacto:u,saveRazonsocial:f,saveCodigoCliente:h,saveDireccion:w,saveCorreo:C,saveTelefono:y,saveUbigeo:_,saveDatos:E}}};const ee=(0,Z.Z)(X,[["render",J]]);var ae=ee,ne=n(649),te=n(6595),le=n(4239),oe={name:"AdminClientes",components:{TableClientes:W,ModalCreate:ae,ModalDelete:ne.Z,ModalEditar:te.Z},setup(){const e=(0,p.iH)(!1),a=(0,p.iH)(!1),n=(0,p.iH)(!1),o=(0,p.iH)([]),i=(0,p.iH)(""),r=()=>{e.value=!0},c=()=>{e.value=!1},d=e=>{i.value=e,n.value=!0},s=()=>{(0,t.eliminarUnidades)(i.value).then((e=>{console.log(e.data),n.value=!1,i.value="",window.location.reload()})).catch((e=>{console.log(e)}))},u=()=>{n.value=!1},m=()=>{a.value=!1},v=e=>{i.value=e,a.value=!0},x=e=>{const n=e.placa,l=e.codcisterna,o=e.capacidad,i=e.id;(0,t.editarUnidades)(n,l,o,i).then((e=>{console.log(e.data),a.value=!1,window.location.reload()}))},f=a=>{console.log(a),b(a,le.Z.state.codempresa).then((a=>{console.log(a.data),e.value=!1,window.location.reload()}))};return(0,l.bv)((()=>{g(le.Z.state.codempresa).then((e=>{o.value=e.data.clientes}))})),{listClientes:o,openModal:r,openModalV:e,closeModal:c,saveDatos:f,confirmDelete:n,eliminarUnidad:d,aceptarEliminar:s,cancelarEliminar:u,cancelarEditar:m,editarUnidad:v,openModalEdit:a,idUnidad:i,aceptarEditar:x}}};const ie=(0,Z.Z)(oe,[["render",u],["__scopeId","data-v-b92aea30"]]);var re=ie}}]);
//# sourceMappingURL=205.009045fc.js.map