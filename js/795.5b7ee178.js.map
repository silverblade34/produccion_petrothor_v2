{"version":3,"file":"js/795.5b7ee178.js","mappings":"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","sources":["webpack://login-vue/./src/components/reportes/DataTable.vue","webpack://login-vue/./src/components/reportes/DataTable.vue?56c2","webpack://login-vue/./src/views/ReportesView.vue","webpack://login-vue/./src/views/ReportesView.vue?a504"],"sourcesContent":["<template>\r\n    <div class=\"overflow-x-auto\">\r\n        <div class=\"inline-block min-w-full overflow-hidden\">\r\n            <div class=\"table-container\">\r\n                <table class=\"min-w-full\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th class=\"border px-4 py-2 text-xs\" v-for=\"header in headerList\" :key=\"header\">{{\r\n                                header }}</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-if=\"paginatedItems.length === 0\">\r\n                            <td class=\"border px-4 py-4 text-xs text-center\" :colspan=\"headerList.length\">No se encontró\r\n                                ningún dato\r\n                                para esta tabla</td>\r\n                        </tr>\r\n                        <!-- Iterar sobre los elementos de paginatedItems -->\r\n                        <tr v-else v-for=\"(item, index) in paginatedItems\" :key=\"index\">\r\n                            <td class=\"border px-4 py-2 text-xs\">{{ item.idticket }}</td>\r\n                            <td class=\"border px-4 py-2 text-xs\">{{ item.codcisterna }}</td>\r\n                            <td class=\"border px-4 py-2 text-xs\">{{ item.nombre }}</td>\r\n                            <td class=\"border px-4 py-2 text-xs\">{{ item.cliente }}</td>\r\n                            <td class=\"border px-4 py-2 text-xs\">{{ item.detalle }}</td>\r\n                            <td class=\"border px-4 py-2 text-xs\">{{ item.conductor }}</td>\r\n                            <td class=\"border px-4 py-2 text-xs\">{{ item.equipo }}</td>\r\n                            <td class=\"border px-4 py-2 text-xs\">{{ item.facturacion }}</td>\r\n                            <td class=\"border px-4 py-2 text-xs\">{{ item.fecha }}</td>\r\n                            <td class=\"border px-4 py-2 text-xs\">{{ item.galones }}</td>\r\n                            <td class=\"border px-4 py-2 text-xs\">{{ item.horometro }}</td>\r\n                            <td class=\"border px-4 py-2 text-xs\">{{ item.odometro }}</td>\r\n                            <td class=\"border px-4 py-2 text-xs\">{{ item.punto }}</td>\r\n                            <td class=\"border px-4 py-2 text-xs\">{{ item.recibido }}</td>\r\n                            <td class=\"border px-4 py-2 text-xs\">{{ item.guia }}</td>\r\n                            <td class=\"border px-4 py-2 text-xs flex items-center\">\r\n                                <a :href=\"generateGoogleMapsLink(item.latitud, item.longitud)\" target=\"_blank\" class=\"p-3 rounded-xl bg-orange-400 text-white h-[50%]\">\r\n                                    <i class=\"fa-solid fa-location-dot\"></i>\r\n                                </a>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"container-nav-pages mt-4\">\r\n        <button\r\n            class=\"bg-sky-500 hover:bg-sky-700 text-white text-xs font-bold py-2 px-4 rounded-lg transition duration-300\"\r\n            @click=\"previousPage\" :disabled=\"currentPage === 1\">\r\n            Anterior\r\n        </button>\r\n\r\n        <span class=\"mx-2\">\r\n            Página {{ currentPage }} de {{ totalPages }}\r\n        </span>\r\n\r\n        <button\r\n            class=\"bg-sky-500 hover:bg-sky-700 text-white text-xs font-bold py-2 px-4 rounded-lg transition duration-300\"\r\n            @click=\"nextPage\" :disabled=\"currentPage === totalPages\">\r\n            Siguiente\r\n        </button>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\nexport default {\r\n    props: {\r\n        data: Array,\r\n        headerList: Array,\r\n    },\r\n    data() {\r\n        return {\r\n            itemsPerPage: 10,\r\n            currentPage: 1,\r\n        };\r\n    },\r\n    computed: {\r\n        totalPages() {\r\n            return Math.ceil(this.data.length / this.itemsPerPage);\r\n        },\r\n        paginatedItems() {\r\n            const startIndex = (this.currentPage - 1) * this.itemsPerPage;\r\n            const endIndex = startIndex + this.itemsPerPage;\r\n            return this.data.slice(startIndex, endIndex);\r\n        },\r\n    },\r\n    methods: {\r\n        generateGoogleMapsLink(latitud, longitud) {\r\n            return `https://www.google.com/maps/search/?api=1&query=${latitud},${longitud}&zoom=20`;\r\n        },\r\n        previousPage() {\r\n            if (this.currentPage > 1) {\r\n                this.currentPage--;\r\n            }\r\n        },\r\n        nextPage() {\r\n            if (this.currentPage < this.totalPages) {\r\n                this.currentPage++;\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.table-container {\r\n    overflow-x: auto;\r\n}\r\n\r\n@media screen and (max-width: 660px) {\r\n    .container-nav-pages {\r\n        width: 500px;\r\n    }\r\n}\r\n</style>","import { render } from \"./DataTable.vue?vue&type=template&id=4f3bea32\"\nimport script from \"./DataTable.vue?vue&type=script&lang=js\"\nexport * from \"./DataTable.vue?vue&type=script&lang=js\"\n\nimport \"./DataTable.vue?vue&type=style&index=0&id=4f3bea32&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\mpach\\\\Documents\\\\PROYECTOS\\\\VUE JS\\\\petrothor_web_v2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <section class=\"min-h-full w-full pb-[5rem] lg:pb-[2rem]\">\r\n        <h3 class=\"title-vista text-2xl font-bold mb-6\">Reportes</h3>\r\n        <section>\r\n            <div class=\"w-full bg-white p-3 rounded-lg\">\r\n                <form @submit.prevent=\"obtenerDatosFormulario\" class=\"w-full mt-3\">\r\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-9 gap-3 mb-6\">\r\n                        <SelectForm name=\"Cliente\" :options=\"ListselectCliente\" v-model=\"selectedCliente\"\r\n                            @selected=\"handleClienteSelected\"\r\n                            class=\"col-span-2 md:col-span-1 lg:col-span-2 text-sm px-3 mb-4 md:mb-0\" />\r\n                        <SelectForm name=\"Cisterna\" :options=\"ListselectCisterna\" v-model=\"selectedCisterna\"\r\n                            @selected=\"handleCisternaSelected\"\r\n                            class=\"col-span-2 md:col-span-1 lg:col-span-2 text-sm px-3 mb-4 md:mb-0\" />\r\n                        <InputDate name=\"Fecha desde\" :value=\"fechaDesde\" v-model=\"fechaDesde\"\r\n                            @input=\"handleFechaDesdeInput\" class=\"col-span-2 md:col-span-1 lg:col-span-2 text-sm\" />\r\n                        <InputDate name=\"Fecha hasta\" :value=\"fechaHasta\" v-model=\"fechaHasta\"\r\n                            @input=\"handleFechaHastaInput\" class=\"col-span-2 md:col-span-1 lg:col-span-2 text-sm\" />\r\n                        <div class=\"col-span-2 md:col-span-1 lg:col-span-1 flex items-center justify-center\">\r\n                            <button type=\"submit\"\r\n                                class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 h-auto rounded-full\">\r\n                                Buscar\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </section>\r\n        <section class=\"bg-white p-4 rounded-lg mt-5 mb-5\">\r\n            <button @click=\"exportarExcel\"\r\n                class=\"btn bg-lime-600 text-white p-3 text-sm rounded-full hover:bg-lime-700 transition duration-300 mb-3\">\r\n                Exportar excel\r\n            </button>\r\n            <DataTable :data=\"data\" :headerList=\"headerList\" class=\"overflow-x-scroll\" />\r\n        </section>\r\n        <div class=\"overflay\" v-if=\"buscandoDataReportes\">\r\n            <span class=\"loader\"></span>\r\n        </div>\r\n        <!-- PRUEBA -->\r\n    </section>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { defineComponent, ref, onMounted } from 'vue';\r\nimport { reportesData, listClientesCisternas } from '../services/ReportsService';\r\nimport { exportarDatosAExcel } from '../services/ExcelService'; // Importa el servicio de exportación a Excel\r\nimport DataTable from '@/components/reportes/DataTable.vue';\r\nimport SelectForm from '@/components/generales/SelectForm.vue';\r\nimport InputDate from '@/components/reportes/InputDate.vue';\r\nimport store from '@/store'\r\nexport default defineComponent({\r\n    name: 'ReportesView',\r\n    components: {\r\n        DataTable,\r\n        SelectForm,\r\n        InputDate,\r\n    },\r\n    setup() {\r\n        // Declarando nuestras variables reactivas\r\n        const ListselectCliente = ref([]);\r\n        const ListselectCisterna = ref([]);\r\n        const selectedCliente = ref('');\r\n        const selectedCisterna = ref('');\r\n        const fechaDesde = ref('');\r\n        const fechaHasta = ref('');\r\n        const buscandoDataReportes = ref(false);\r\n        const data = ref([]);\r\n        const codempresa = store.state.codempresa;\r\n        const codcliente = store.state.codcliente;\r\n        // Lógica para obtener los datos de Vuex y asignarlos a las referencias\r\n        onMounted(() => {\r\n            listClientesCisternas(codempresa, codcliente)\r\n                .then(response => {\r\n                    ListselectCliente.value = transformDataClientes(response.data.clientes);\r\n                    ListselectCisterna.value = transformDataCisternas(response.data.cisternas);\r\n                })\r\n        });\r\n        // Datos simulados para DataTable\r\n        const headerList = ref([\r\n            'Ticket',\r\n            'Cisterna',\r\n            'Nombre',\r\n            'Cliente',\r\n            'Detalle',\r\n            'Conductor',\r\n            'Equipo',\r\n            'Facturación',\r\n            'Fecha',\r\n            'Galones',\r\n            'Horometro',\r\n            'Odometro',\r\n            'Punto',\r\n            'Recibido por',\r\n            'Guia',\r\n            'Ubicación'\r\n        ]);\r\n        const handleClienteSelected = (value) => {\r\n            selectedCliente.value = value;\r\n        };\r\n\r\n        const handleCisternaSelected = (value) => {\r\n            selectedCisterna.value = value;\r\n        };\r\n\r\n        const handleFechaDesdeInput = (event) => {\r\n            fechaDesde.value = event.target.value;\r\n        };\r\n\r\n        const handleFechaHastaInput = (event) => {\r\n            fechaHasta.value = event.target.value;\r\n        };\r\n\r\n        const obtenerDatosFormulario = () => {\r\n            buscandoDataReportes.value = true; // Mostrar el loader al inicio de la consulta\r\n            if (selectedCliente.value == \"\") {\r\n                selectedCliente.value = \"ALL\"\r\n            }\r\n            if (selectedCisterna.value == \"\") {\r\n                selectedCisterna.value = \"ALL\"\r\n            }\r\n\r\n            reportesData(selectedCliente.value, selectedCisterna.value, fechaDesde.value, fechaHasta.value, codempresa)\r\n                .then(response => {\r\n                    data.value = response.data.data;\r\n                })\r\n                .finally(() => {\r\n                    buscandoDataReportes.value = false; // Ocultar el loader al completar la consulta\r\n                });\r\n        };\r\n\r\n        const exportarExcel = () => {\r\n            buscandoDataReportes.value = true; // Mostrar el loader al inicio de la consulta\r\n            const consulta = {\r\n                cliente: selectedCliente.value,\r\n                cisterna: selectedCisterna.value,\r\n                fechaDesde: fechaDesde.value,\r\n                fechaHasta: fechaHasta.value,\r\n            };\r\n\r\n            exportarDatosAExcel(consulta, codempresa)\r\n                .then(excelData => {\r\n                    console.log(excelData);\r\n                    // Aquí puedes manejar el archivo Excel generado, como descargarlo o abrirlo en una nueva ventana\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error al exportar a Excel:', error);\r\n                })\r\n                .finally(() => {\r\n                    buscandoDataReportes.value = false; // Ocultar el loader al completar la consulta\r\n                });\r\n        };\r\n\r\n        return {\r\n            buscandoDataReportes,\r\n            ListselectCliente,\r\n            ListselectCisterna,\r\n            headerList,\r\n            data,\r\n            selectedCliente,\r\n            selectedCisterna,\r\n            fechaDesde,\r\n            fechaHasta,\r\n            handleClienteSelected,\r\n            handleCisternaSelected,\r\n            handleFechaDesdeInput,\r\n            handleFechaHastaInput,\r\n            obtenerDatosFormulario,\r\n            exportarExcel\r\n        };\r\n    },\r\n});\r\n\r\n\r\nfunction transformDataClientes(data) {\r\n    const transformedData = data.map(item => ({ key: item.codcliente, name: item.cliente }));\r\n    transformedData.unshift({ key: 'ALL', name: 'Todos' });\r\n    return transformedData;\r\n}\r\n\r\nfunction transformDataCisternas(data) {\r\n    const transformedData = data.map(item => ({ key: item.codcisterna, name: item.codcisterna }));\r\n    transformedData.unshift({ key: 'ALL', name: 'Todos' });\r\n    return transformedData;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.loader {\r\n    width: 48px;\r\n    height: 48px;\r\n    border-radius: 50%;\r\n    position: relative;\r\n    animation: rotate 1s linear infinite\r\n}\r\n\r\n.loader::before,\r\n.loader::after {\r\n    content: \"\";\r\n    box-sizing: border-box;\r\n    position: absolute;\r\n    inset: 0px;\r\n    border-radius: 50%;\r\n    border: 5px solid #FFF;\r\n    animation: prixClipFix 2s linear infinite;\r\n}\r\n\r\n.loader::after {\r\n    inset: 8px;\r\n    transform: rotate3d(90, 90, 0, 180deg);\r\n    border-color: #FF3D00;\r\n}\r\n\r\n@keyframes rotate {\r\n    0% {\r\n        transform: rotate(0deg)\r\n    }\r\n\r\n    100% {\r\n        transform: rotate(360deg)\r\n    }\r\n}\r\n\r\n@keyframes prixClipFix {\r\n    0% {\r\n        clip-path: polygon(50% 50%, 0 0, 0 0, 0 0, 0 0, 0 0)\r\n    }\r\n\r\n    50% {\r\n        clip-path: polygon(50% 50%, 0 0, 100% 0, 100% 0, 100% 0, 100% 0)\r\n    }\r\n\r\n    75%,\r\n    100% {\r\n        clip-path: polygon(50% 50%, 0 0, 100% 0, 100% 100%, 100% 100%, 100% 100%)\r\n    }\r\n}\r\n\r\n\r\n.overflay {\r\n    height: 100%;\r\n    width: 100vw;\r\n    position: fixed;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    top: 0;\r\n    right: 0;\r\n    left: 0;\r\n    background-color: #d8d8d844;\r\n    z-index: 9999;\r\n}\r\n</style>","import { render } from \"./ReportesView.vue?vue&type=template&id=87b0957c&scoped=true\"\nimport script from \"./ReportesView.vue?vue&type=script&lang=js\"\nexport * from \"./ReportesView.vue?vue&type=script&lang=js\"\n\nimport \"./ReportesView.vue?vue&type=style&index=0&id=87b0957c&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\mpach\\\\Documents\\\\PROYECTOS\\\\VUE JS\\\\petrothor_web_v2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-87b0957c\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_24","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","_renderList","$props","headerList","header","key","$options","paginatedItems","length","_hoisted_5","colspan","_hoisted_6","item","index","_hoisted_7","_toDisplayString","idticket","_hoisted_8","codcisterna","_hoisted_9","nombre","_hoisted_10","cliente","_hoisted_11","detalle","_hoisted_12","conductor","_hoisted_13","equipo","_hoisted_14","facturacion","_hoisted_15","fecha","_hoisted_16","galones","_hoisted_17","horometro","_hoisted_18","odometro","_hoisted_19","punto","_hoisted_20","recibido","_hoisted_21","guia","_hoisted_22","href","generateGoogleMapsLink","latitud","longitud","target","_hoisted_26","onClick","_cache","args","previousPage","disabled","$data","currentPage","_hoisted_27","_hoisted_28","totalPages","nextPage","_hoisted_29","props","data","Array","itemsPerPage","computed","Math","ceil","this","startIndex","endIndex","slice","methods","__exports__","render","type","onSubmit","_withModifiers","_ctx","obtenerDatosFormulario","_createVNode","_component_SelectForm","name","options","ListselectCliente","selectedCliente","$event","onSelected","handleClienteSelected","ListselectCisterna","selectedCisterna","handleCisternaSelected","_component_InputDate","value","fechaDesde","onInput","handleFechaDesdeInput","fechaHasta","handleFechaHastaInput","exportarExcel","_component_DataTable","buscandoDataReportes","defineComponent","components","DataTable","SelectForm","InputDate","setup","ref","codempresa","store","codcliente","onMounted","listClientesCisternas","then","response","transformDataClientes","clientes","transformDataCisternas","cisternas","event","reportesData","finally","consulta","cisterna","exportarDatosAExcel","excelData","console","log","catch","error","transformedData","map","unshift"],"sourceRoot":""}