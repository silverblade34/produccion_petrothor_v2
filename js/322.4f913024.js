"use strict";(self["webpackChunklogin_vue"]=self["webpackChunklogin_vue"]||[]).push([[322],{8566:function(e,s,a){a.r(s),a.d(s,{default:function(){return Q}});var t=a(3396);const o={class:"h-full w-full"},l={class:"mb-8 flex justify-between items-center"},r=(0,t._)("h3",{class:"text-2xl font-semibold text-neutral-600"},"Administrar cuentas",-1),n={class:"relative text-sm overflow-x-auto shadow-md sm:rounded-2xl"};function i(e,s,a,i,c,u){const d=(0,t.up)("TableUsers"),p=(0,t.up)("ModalCreateCuentaVue");return(0,t.wg)(),(0,t.iD)("section",o,[(0,t._)("div",l,[r,(0,t._)("button",{onClick:s[0]||(s[0]=(...e)=>i.openModal&&i.openModal(...e)),class:"p-3 rounded-xl bg-orange-600 text-white text-sm hover:bg-orange-700 transition duration-300"}," Crear cuenta ")]),(0,t._)("div",n,[(0,t.Wm)(d,{listaUsuarios:i.ListUsers},null,8,["listaUsuarios"])]),i.openModalV?((0,t.wg)(),(0,t.j4)(p,{key:0,onCloseModal:i.closeModal,onSaveDatos:i.crearCuenta},null,8,["onCloseModal","onSaveDatos"])):(0,t.kq)("",!0)])}var c=a(4870),u=a(4239),d=a(4161);const p="http://67.205.184.183:3000/api/";function m(e,s){return d.Z.get(`${p}usuarios/listar_clientes?tipousuario=${s}&codempresa=${e}`)}function g(){}var w=a(7139),x=a.p+"img/icon-user.d6deea94.png";const h={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},f=(0,t._)("thead",{class:"text-xs uppercase bg-gray-400 text-white"},[(0,t._)("tr",null,[(0,t._)("th",{scope:"col",class:"px-6 py-3"}," Usuario "),(0,t._)("th",{scope:"col",class:"px-6 py-3"}," Empresa "),(0,t._)("th",{scope:"col",class:"px-6 py-3"}," Estado "),(0,t._)("th",{scope:"col",class:"px-6 py-3"}," Acciones ")])],-1),b={scope:"row",class:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white"},y=(0,t._)("img",{class:"w-10 h-10 rounded-full",src:x,alt:"Icon user"},null,-1),v={class:"pl-3"},_={class:"text-gray-800 font-medium"},C={class:"px-6 py-4 text-gray-800"},k=(0,t._)("td",{class:"px-6 py-4 text-gray-800"},[(0,t._)("div",{class:"flex items-center"},[(0,t._)("div",{class:"h-2.5 w-2.5 rounded-full bg-green-500 mr-2"}),(0,t.Uk)(" Activo ")])],-1),U=(0,t._)("td",{class:"px-6 py-4"},[(0,t._)("a",{href:"#",class:"mr-2 p-2 font-medium text-white dark:text-white hover:underline bg-green-500 rounded-lg"},"Editar"),(0,t._)("a",{href:"#",class:"p-2 font-medium text-white dark:text-white hover:underline bg-red-500 rounded-lg"},"Eliminar")],-1);function V(e,s,a,o,l,r){return(0,t.wg)(),(0,t.iD)("table",h,[f,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.listaUsuarios,(e=>((0,t.wg)(),(0,t.iD)("tr",{class:"bg-white border-b",key:e.id},[(0,t._)("th",b,[y,(0,t._)("div",v,[(0,t._)("div",_,(0,w.zw)(e.usuario),1)])]),(0,t._)("td",C,(0,w.zw)(e.conductor),1),k,U])))),128))])])}var M={name:"TableUsers",props:{listaUsuarios:Array}},D=a(89);const P=(0,D.Z)(M,[["render",V]]);var E=P,Z=a(9242);const L={class:"fixed inset-0 flex items-center justify-center z-50"},j=(0,t._)("div",{class:"absolute inset-0 bg-black opacity-30 pointer-events-none"},null,-1),z={class:"relative z-10 p-4 bg-slate-200 rounded-xl min-w-[350px]"},A={class:"p-2 text-gray-700 w-full h-full text-sm"},$=(0,t._)("h3",{class:"text-center font-bold text-lg"},"Crear cuenta",-1),q=(0,t._)("p",{class:"py-1"},"Usuario",-1),H=(0,t._)("p",{class:"py-1"},"Empresa",-1),I=(0,t._)("p",{class:"py-1"},"Codigo Empresa",-1),S=(0,t._)("p",{class:"py-1"},"Contraseña",-1),T={class:"relative"},Y=["type"],K={key:0,class:"fa-solid fa-eye"},N={key:1,class:"fa-solid fa-eye-slash fa-lg"},R=(0,t._)("p",{class:"py-1"},"Confirmar contraseña",-1),W={class:"btns flex gap-2 justify-center items-center pt-2"};function X(e,s,a,o,l,r){return(0,t.wg)(),(0,t.iD)("div",L,[j,(0,t._)("div",z,[(0,t._)("form",A,[$,q,(0,t.wy)((0,t._)("input",{type:"text",name:"usuario","onUpdate:modelValue":s[0]||(s[0]=e=>l.usuario=e),class:"w-full text-sm p-2 px-3 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Usuario de cuenta"},null,512),[[Z.nr,l.usuario]]),H,(0,t.wy)((0,t._)("input",{type:"text",name:"empresa","onUpdate:modelValue":s[1]||(s[1]=e=>l.empresa=e),class:"w-full text-sm p-2 px-3 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Nombre de empresa"},null,512),[[Z.nr,l.empresa]]),I,(0,t.wy)((0,t._)("input",{type:"text",name:"codempresa","onUpdate:modelValue":s[2]||(s[2]=e=>l.codempresa=e),class:"w-full text-sm p-2 px-3 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Ejemplo: CX003"},null,512),[[Z.nr,l.codempresa]]),S,(0,t._)("div",T,[(0,t.wy)((0,t._)("input",{type:l.showPassword?"text":"password",name:"password","onUpdate:modelValue":s[3]||(s[3]=e=>l.password=e),class:"w-full text-sm p-2 px-3 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Ingrese contraseña"},null,8,Y),[[Z.YZ,l.password]]),(0,t._)("button",{onClick:s[4]||(s[4]=(0,Z.iM)(((...e)=>r.togglePasswordVisibility&&r.togglePasswordVisibility(...e)),["prevent"])),class:"absolute top-1/2 right-3 transform -translate-y-1/2 focus:outline-none"},[l.showPassword?((0,t.wg)(),(0,t.iD)("i",K)):((0,t.wg)(),(0,t.iD)("i",N))])]),R,(0,t._)("input",{type:"password",name:"repeatpassword",class:"w-full text-sm p-2 px-3 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Repita contraseña",onInput:s[5]||(s[5]=(...e)=>r.validatePassword&&r.validatePassword(...e))},null,32),""!==l.msgValidacion?((0,t.wg)(),(0,t.iD)("p",{key:0,class:(0,w.C_)({"text-green-500 text-xs":"Las contraseñas coinciden"===l.msgValidacion,"text-red-500 text-xs":"Las contraseñas no coinciden"===l.msgValidacion})},(0,w.zw)(l.msgValidacion),3)):(0,t.kq)("",!0)]),(0,t._)("div",W,[(0,t._)("button",{onClick:s[6]||(s[6]=(...e)=>r.closeModal&&r.closeModal(...e)),class:"bg-gray-400 hover:bg-gray-500 text-white text-sm p-2 px-4 rounded-xl transition duration-300"},"Cerrar"),(0,t._)("button",{onClick:s[7]||(s[7]=(...e)=>r.saveDatos&&r.saveDatos(...e)),class:"bg-blue-400 hover:bg-blue-500 text-white text-sm p-2 px-4 rounded-xl transition duration-300"},"Crear")])])])}var B={name:"ModalCreateCuenta",data(){return{usuario:"",empresa:"",codempresa:"",password:"",showPassword:!1,msgValidacion:""}},methods:{closeModal(){this.$emit("close-modal")},saveDatos(){console.log("Usuario:",this.usuario),console.log("Empresa:",this.empresa),console.log("Contraseña:",this.password),console.log("CodEmpresa:",this.codempresa),this.$emit("save-datos",{usuario:this.usuario,empresa:this.empresa,password:this.password,codempresa:this.codempresa})},togglePasswordVisibility(){this.showPassword=!this.showPassword},validatePassword(e){const s=document.querySelector('input[name="password"]').value,a=e.target.value;s===a?(this.msgValidacion="Las contraseñas coinciden",console.log("Las contraseñas coinciden")):(this.msgValidacion="Las contraseñas no coinciden",console.log("Las contraseñas no coinciden"))}}};const F=(0,D.Z)(B,[["render",X]]);var G=F,J={name:"AdminCuentas",components:{TableUsers:E,ModalCreateCuentaVue:G},setup(){const e=(0,c.iH)([]),s=(0,c.iH)(!1);(0,t.bv)((()=>{m(u.Z.state.codempresa,u.Z.state.tipousuario).then((s=>{e.value=s.data.usuarios}))}));const a=()=>{s.value=!0},o=()=>{s.value=!1},l=e=>{const s=e.usuario,a=e.empresa,t=e.password,o=e.codempresa;g(u.Z.state.codempresa,u.Z.state.tipousuario,s,a,t,o).then((e=>{console.log(e)}))};return{ListUsers:e,openModalV:s,openModal:a,closeModal:o,crearCuenta:l}}};const O=(0,D.Z)(J,[["render",i]]);var Q=O}}]);
//# sourceMappingURL=322.4f913024.js.map