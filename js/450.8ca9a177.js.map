{"version":3,"file":"js/450.8ca9a177.js","mappings":"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","sources":["webpack://login-vue/./src/services/AdminUsers.js","webpack://login-vue/./src/views/AdminCuentasMaestras.vue","webpack://login-vue/./src/views/AdminCuentasMaestras.vue?779a"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\nexport function listarUsuarios(codempresa, tipousuario) {\r\n    return axios.get(`${baseURL}usuarios/listar_clientes?tipousuario=${tipousuario}&codempresa=${codempresa}`);\r\n}\r\n\r\nexport function crearUsuarios(codempresa, tipousuario, usuario, empresa, password, ubigeo, direccion, correo, telefono, domicilio_fiscal, ruc) {\r\n    return axios.post(`${baseURL}usuarios/crear_usuarios`,\r\n        {\r\n            codempresa_cuenta: codempresa,\r\n            tipousuario: tipousuario,\r\n            usuario: usuario,\r\n            password: password,\r\n            empresa: empresa,\r\n            ubigeo: ubigeo,\r\n            direccion: direccion,\r\n            correo: correo,\r\n            telefono: telefono,\r\n            domicilio_fiscal: domicilio_fiscal,\r\n            ruc: ruc\r\n        });\r\n}\r\n\r\nexport function guardarImagenLogo(logoImage, codempresa) {\r\n    const formData = new FormData();\r\n    console.log(\"enviara la imagen mediante http\")\r\n    console.log(codempresa)\r\n    formData.append('logoImage', logoImage);\r\n    formData.append('codempresa', codempresa);\r\n    console.log(formData)\r\n    return axios.post(`${baseURL}usuarios/guardarLogo`, formData, {\r\n        headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n        }\r\n    });\r\n}\r\n\r\nexport function eliminarUsuarioCuenta(idUsuario, idEmpresa, tipousuario) {\r\n    return axios.delete(`${baseURL}usuarios/cuenta_eliminar`,\r\n        {\r\n            data: {\r\n                idUsuario: idUsuario,\r\n                idEmpresa: idEmpresa,\r\n                tipousuario: tipousuario\r\n            }\r\n        });\r\n}\r\n\r\nexport function buscarUsuarioCuenta(idUsuario, idEmpresa) {\r\n    return axios.get(`${baseURL}usuarios/search?idUsuario=${idUsuario}&idEmpresa=${idEmpresa}`);\r\n}\r\n\r\nexport function editarUsuarios(id_usuario,id_empresa, usuario, empresa, password, ubigeo, direccion, correo, telefono, domicilio_fiscal, ruc) {\r\n    return axios.put(`${baseURL}usuarios/edit`,\r\n        {\r\n            id_usuario: id_usuario,\r\n            id_empresa: id_empresa,\r\n            usuario: usuario,\r\n            numero_documento: ruc,\r\n            clave: password,\r\n            nombre: empresa,\r\n            ubigeo: ubigeo,\r\n            direccion: direccion,\r\n            correo_electronico: correo,\r\n            telefono: telefono,\r\n            codigo_del_domicilio_fiscal: domicilio_fiscal\r\n        });\r\n}","<template>\r\n    <section class=\"min-h-full w-full pb-[5rem] lg:pb-[2rem]\">\r\n        <div class=\"mb-8 flex justify-between items-center\">\r\n            <h3 class=\"title-vista text-2xl font-semibold text-neutral-600\">Administrar cuentas</h3>\r\n            <button\r\n                class=\"py-2 px-3 rounded-xl bg-orange-400 text-white text-sm hover:bg-orange-500 transition duration-300\">\r\n                Crear cuenta\r\n            </button>\r\n        </div>\r\n    </section>\r\n</template>\r\n  \r\n<script>\r\nimport { ref, onMounted } from 'vue';\r\nimport store from '@/store';\r\nimport { listarUsuarios, crearUsuarios, guardarImagenLogo, eliminarUsuarioCuenta, editarUsuarios } from '@/services/AdminUsers';\r\n\r\nexport default {\r\n    name: 'AdminCuentasMaestras',\r\n    setup() {\r\n        const ListUsers = ref([]);\r\n        const openModalV = ref(false);\r\n        const confirmDelete = ref(false);\r\n        const openModalError = ref(false);\r\n        const openModalEdit = ref(false);\r\n        const idUsuarioSet = ref(\"\");\r\n        const idEmpresaSet = ref(\"\");\r\n        const openSuccessEdit = ref(false);\r\n        onMounted(() => {\r\n            listarUsuarios(store.state.codempresa, store.state.tipousuario)\r\n                .then(response => {\r\n                    ListUsers.value = response.data.usuarios;\r\n                });\r\n        });\r\n        const openModal = () => {\r\n            openModalV.value = true;\r\n        };\r\n        const closeModal = () => {\r\n            openModalV.value = false;\r\n        };\r\n        const closeModalError = () => {\r\n            openModalError.value = false;\r\n        };\r\n        const closeSuccessEdit = () => {\r\n            openSuccessEdit.value = false;\r\n            window.location.reload();\r\n        }\r\n        const crearCuenta = (dataformulario) => {\r\n            const usuario = dataformulario.usuario;\r\n            const empresa = dataformulario.empresa;\r\n            const password = dataformulario.password;\r\n            const ubigeo = dataformulario.ubigeo;\r\n            const direccion = dataformulario.direccion;\r\n            const correo = dataformulario.correo;\r\n            const ruc = dataformulario.ruc;\r\n            const telefono = dataformulario.telefono;\r\n            const domicilio_fiscal = dataformulario.domicilio_fiscal;\r\n            const logoImage = dataformulario.logoImage;\r\n            if (usuario == '' || empresa == '' || password == '' || ubigeo == '' ||\r\n                direccion == '' || correo == '' || telefono == '' || domicilio_fiscal == '' || ruc == '') {\r\n                openModalV.value = false;\r\n                openModalError.value = true;\r\n            } else {\r\n                crearUsuarios(store.state.codempresa, store.state.tipousuario, usuario, empresa, password, ubigeo, direccion, correo, telefono, domicilio_fiscal, ruc)\r\n                    .then(response => {\r\n                        if (store.state.codempresa == \"C000\") {\r\n                            console.log(\"------RESPONSE------\")\r\n                            console.log(response.data)\r\n                            console.log(response.data.codempresa)\r\n                            guardarImagenLogo(logoImage, response.data.codempresa)\r\n                        }\r\n                        openModalV.value = false;\r\n                        window.location.reload();\r\n                    });\r\n            }\r\n        };\r\n        const eliminarUsuario = (idUsuario, idEmpresa) => {\r\n            idUsuarioSet.value = idUsuario;\r\n            idEmpresaSet.value = idEmpresa;\r\n            confirmDelete.value = true;\r\n        }\r\n        const aceptarEliminar = () => {\r\n            eliminarUsuarioCuenta(idUsuarioSet.value, idEmpresaSet.value, store.state.tipousuario)\r\n                .then(response => {\r\n                    console.log(response);\r\n                    window.location.reload();\r\n                    confirmDelete.value = false;\r\n                    idUsuarioSet.value = \"\"\r\n                    idEmpresaSet.value = \"\"\r\n                });\r\n        }\r\n        const cancelarEliminar = () => {\r\n            confirmDelete.value = false;\r\n            idUsuarioSet.value = \"\"\r\n            idEmpresaSet.value = \"\"\r\n        }\r\n        const editarUsuario = (idUsuario, idEmpresa) => {\r\n            idUsuarioSet.value = idUsuario;\r\n            idEmpresaSet.value = idEmpresa;\r\n            openModalEdit.value = true;\r\n        }\r\n        const cancelarEditar = () => {\r\n            openModalEdit.value = false;\r\n        }\r\n\r\n        const aceptarEditar = (dataformulario) => {\r\n            const usuario = dataformulario.usuario;\r\n            const empresa = dataformulario.empresa;\r\n            const password = dataformulario.password;\r\n            const ubigeo = dataformulario.ubigeo;\r\n            const direccion = dataformulario.direccion;\r\n            const correo = dataformulario.correo;\r\n            const ruc = dataformulario.ruc;\r\n            const telefono = dataformulario.telefono;\r\n            const domicilio_fiscal = dataformulario.domicilio_fiscal;\r\n            if (usuario == '' || empresa == '' || password == '' || ubigeo == '' ||\r\n                direccion == '' || correo == '' || telefono == '' || domicilio_fiscal == '' || ruc == '') {\r\n                openModalEdit.value = false;\r\n                openModalError.value = true;\r\n            } else {\r\n                editarUsuarios(idUsuarioSet.value, idEmpresaSet.value, usuario, empresa, password, ubigeo, direccion, correo, telefono, domicilio_fiscal, ruc)\r\n                    .then(response => {\r\n                        console.log(response)\r\n                        openSuccessEdit.value = true;\r\n                        openModalEdit.value = false;\r\n                    });\r\n            }\r\n        }\r\n        return {\r\n            ListUsers, openModalV,\r\n            openModal, closeModal,\r\n            crearCuenta, confirmDelete,\r\n            eliminarUsuario, aceptarEliminar,\r\n            cancelarEliminar, closeModalError,\r\n            cancelarEditar, openModalError,\r\n            openModalEdit, editarUsuario,\r\n            idUsuarioSet, idEmpresaSet,\r\n            aceptarEditar, openSuccessEdit,\r\n            closeSuccessEdit\r\n        };\r\n    },\r\n};\r\n</script>\r\n<style scoped>\r\n.modal-enter-active,\r\n.modal-leave-active {\r\n    transition: opacity 0.3s;\r\n}\r\n\r\n.modal-enter-from,\r\n.modal-leave-to {\r\n    opacity: 0;\r\n}\r\n</style>\r\n\r\n\r\n","import { render } from \"./AdminCuentasMaestras.vue?vue&type=template&id=5614ec73&scoped=true\"\nimport script from \"./AdminCuentasMaestras.vue?vue&type=script&lang=js\"\nexport * from \"./AdminCuentasMaestras.vue?vue&type=script&lang=js\"\n\nimport \"./AdminCuentasMaestras.vue?vue&type=style&index=0&id=5614ec73&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\mpach\\\\Documents\\\\PROYECTOS\\\\VUE JS\\\\petrothorweb-vuejs\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5614ec73\"]])\n\nexport default __exports__"],"names":["baseURL","process","listarUsuarios","codempresa","tipousuario","axios","crearUsuarios","usuario","empresa","password","ubigeo","direccion","correo","telefono","domicilio_fiscal","ruc","codempresa_cuenta","guardarImagenLogo","logoImage","formData","FormData","console","log","append","headers","eliminarUsuarioCuenta","idUsuario","idEmpresa","data","buscarUsuarioCuenta","editarUsuarios","id_usuario","id_empresa","numero_documento","clave","nombre","correo_electronico","codigo_del_domicilio_fiscal","class","_createElementVNode","_hoisted_2","_createElementBlock","_hoisted_1","_hoisted_3","name","setup","ListUsers","ref","openModalV","confirmDelete","openModalError","openModalEdit","idUsuarioSet","idEmpresaSet","openSuccessEdit","onMounted","store","then","response","value","usuarios","openModal","closeModal","closeModalError","closeSuccessEdit","window","location","reload","crearCuenta","dataformulario","eliminarUsuario","aceptarEliminar","cancelarEliminar","editarUsuario","cancelarEditar","aceptarEditar","__exports__","render"],"sourceRoot":""}