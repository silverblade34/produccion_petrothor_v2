"use strict";(self["webpackChunklogin_vue"]=self["webpackChunklogin_vue"]||[]).push([[17],{4229:function(e,t,a){a.d(t,{Z:function(){return f}});var o=a(3396),n=a(7139);const r={class:"fixed inset-0 flex items-center justify-center z-[9999]"},l=(0,o._)("div",{class:"absolute inset-0 bg-black opacity-30 pointer-events-none"},null,-1),i={class:"relative z-30 p-3 bg-white rounded-xl min-w-[350px] max-w-[450px]"},s=(0,o._)("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),c=(0,o._)("span",{class:"sr-only"},"Close modal",-1),d=[s,c],u={class:"p-6 text-center"},p=(0,o._)("svg",{"aria-hidden":"true",class:"mx-auto mb-3 w-14 h-14 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),m={class:"mb-3 text-xl font-bold text-green-500"},g={class:"text-sm mb-5 text-gray-700"};function v(e,t,a,s,c,v){return(0,o.wg)(),(0,o.iD)("div",r,[l,(0,o._)("div",i,[(0,o._)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>s.closeModal&&s.closeModal(...e)),class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white","data-modal-hide":"popup-modal"},d),(0,o._)("div",u,[p,(0,o._)("h3",m,(0,n.zw)(a.title),1),(0,o._)("p",g,(0,n.zw)(a.mensaje),1),(0,o._)("button",{"data-modal-hide":"popup-modal",type:"button",onClick:t[1]||(t[1]=(...e)=>s.closeModal&&s.closeModal(...e)),class:"text-white bg-gray-400 hover:bg-gray-500 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 focus:z-10 ease-in duration-300"}," Aceptar")])])])}var x={name:"ConfirmEdit",props:{title:String,mensaje:String},emits:["close-modal"],setup(e,{emit:t}){const a=()=>{t("close-modal")};return{closeModal:a}}},b=a(89);const w=(0,b.Z)(x,[["render",v]]);var f=w},8692:function(e,t,a){a.d(t,{Z:function(){return u}});var o=a(3396),n=a(7139);const r={for:""},l=["name","id","value","placeholder"];function i(e,t,a,i,s,c){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("label",r,(0,n.zw)(a.label),1),(0,o._)("input",{type:"text",name:a.name,id:a.id,value:a.value,class:"input-item w-full py-2 px-3 rounded-lg mt-2 border",onInput:t[0]||(t[0]=t=>e.$emit("value-input",t.target.value)),placeholder:a.placeholder},null,40,l)])}var s={props:{label:String,name:String,placeholder:String,value:String,id:String}},c=a(89);const d=(0,c.Z)(s,[["render",i],["__scopeId","data-v-26b88d80"]]);var u=d},4050:function(e,t,a){a.d(t,{Z:function(){return w}});var o=a(3396),n=a(7139);const r={class:"fixed inset-0 flex items-center justify-center z-[9999]"},l=(0,o._)("div",{class:"absolute inset-0 bg-black opacity-30 pointer-events-none"},null,-1),i={class:"relative z-30 p-4 bg-white rounded-xl lg:min-w-[350px] lg:max-w-[450px] min-w-[330px] max-w-[350px]"},s=(0,o._)("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),c=(0,o._)("span",{class:"sr-only"},"Close modal",-1),d=[s,c],u={class:"p-6 text-center"},p=(0,o._)("svg",{"aria-hidden":"true",class:"mx-auto mb-4 w-14 h-14 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),m={class:"mb-5 text-lg font-normal text-gray-500"};function g(e,t,a,s,c,g){return(0,o.wg)(),(0,o.iD)("div",r,[l,(0,o._)("div",i,[(0,o._)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>s.cancelarEliminar&&s.cancelarEliminar(...e)),class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white","data-modal-hide":"popup-modal"},d),(0,o._)("div",u,[p,(0,o._)("h3",m,(0,n.zw)(a.pregunta),1),(0,o._)("button",{"data-modal-hide":"popup-modal",type:"button",onClick:t[1]||(t[1]=(...e)=>s.aceptarEliminar&&s.aceptarEliminar(...e)),class:"text-white bg-red-500 hover:bg-red-600 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2 ease-in duration-300"}," Si, eliminar "),(0,o._)("button",{"data-modal-hide":"popup-modal",type:"button",onClick:t[2]||(t[2]=(...e)=>s.cancelarEliminar&&s.cancelarEliminar(...e)),class:"text-white bg-gray-400 hover:bg-gray-500 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 focus:z-10 ease-in duration-300"},"No, cancelar")])])])}var v={name:"ModalDelete",props:{pregunta:String},emits:["aceptar-eliminar","cancelar-eliminar"],setup(e,{emit:t}){const a=()=>{t("aceptar-eliminar")},o=()=>{t("cancelar-eliminar")};return{aceptarEliminar:a,cancelarEliminar:o}}},x=a(89);const b=(0,x.Z)(v,[["render",g]]);var w=b},1968:function(e,t,a){a.d(t,{Z:function(){return f}});var o=a(3396),n=a(7139);const r={class:"fixed inset-0 flex items-center justify-center z-[9999]"},l=(0,o._)("div",{class:"absolute inset-0 bg-black opacity-30 pointer-events-none"},null,-1),i={class:"relative z-30 p-3 bg-white rounded-xl min-w-[350px] max-w-[450px]"},s=(0,o._)("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),c=(0,o._)("span",{class:"sr-only"},"Close modal",-1),d=[s,c],u={class:"p-6 text-center"},p=(0,o._)("svg",{"aria-hidden":"true",class:"mx-auto mb-3 w-14 h-14 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),m={class:"mb-3 text-xl font-bold text-yellow-500"},g={class:"text-sm mb-5 text-gray-700"};function v(e,t,a,s,c,v){return(0,o.wg)(),(0,o.iD)("div",r,[l,(0,o._)("div",i,[(0,o._)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>s.closeModal&&s.closeModal(...e)),class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white","data-modal-hide":"popup-modal"},d),(0,o._)("div",u,[p,(0,o._)("h3",m,(0,n.zw)(a.title),1),(0,o._)("p",g,(0,n.zw)(a.mensaje),1),(0,o._)("button",{"data-modal-hide":"popup-modal",type:"button",onClick:t[1]||(t[1]=(...e)=>s.closeModal&&s.closeModal(...e)),class:"text-white bg-gray-400 hover:bg-gray-500 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 focus:z-10 ease-in duration-300"}," Aceptar")])])])}var x={name:"ModalDelete",props:{title:String,mensaje:String},emits:["close-modal"],setup(e,{emit:t}){const a=()=>{t("close-modal")};return{closeModal:a}}},b=a(89);const w=(0,b.Z)(x,[["render",v]]);var f=w},9017:function(e,t,a){a.r(t),a.d(t,{default:function(){return ce}});var o=a(3396),n=a(9242);const r=e=>((0,o.dD)("data-v-067cc750"),e=e(),(0,o.Cn)(),e),l={class:"min-h-full w-full pb-[5rem] lg:pb-[2rem]"},i={class:"mb-8 flex justify-between items-center"},s=r((()=>(0,o._)("h3",{class:"title-vista text-2xl font-semibold text-neutral-600"},"Administrar facturación",-1))),c={class:"overflow-x-auto shadow-md sm:rounded-lg"};function d(e,t,a,r,d,u){const p=(0,o.up)("TableFacturacion"),m=(0,o.up)("ModalCreate"),g=(0,o.up)("ModalDelete"),v=(0,o.up)("ModalEditar"),x=(0,o.up)("ModaError"),b=(0,o.up)("ConfirmEdit");return(0,o.wg)(),(0,o.iD)("section",l,[(0,o._)("div",i,[s,(0,o._)("button",{onClick:t[0]||(t[0]=(...e)=>r.openModal&&r.openModal(...e)),class:"py-2 px-3 rounded-xl bg-orange-400 text-white text-sm hover:bg-orange-500 transition duration-300"}," Crear nuevo ")]),(0,o._)("div",c,[(0,o.Wm)(p,{listFacturaciones:r.listFacturaciones,onEliminarFacturacion:r.eliminarFacturacion,onEditarFacturacion:r.editarFacturacion},null,8,["listFacturaciones","onEliminarFacturacion","onEditarFacturacion"])]),(0,o.Wm)(n.uT,{name:"modal",mode:"out-in"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(m,{onCloseModal:r.closeModal,onSaveDatos:r.saveDatos},null,8,["onCloseModal","onSaveDatos"]),[[n.F8,r.openModalV]])])),_:1}),(0,o.Wm)(n.uT,{name:"modal",mode:"out-in"},{default:(0,o.w5)((()=>[r.confirmDelete?((0,o.wg)(),(0,o.j4)(g,{key:0,onAceptarEliminar:r.aceptarEliminar,onCancelarEliminar:r.cancelarEliminar,pregunta:"¿Estás seguro de eliminar esta unidad?"},null,8,["onAceptarEliminar","onCancelarEliminar"])):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(n.uT,{name:"modal",mode:"out-in"},{default:(0,o.w5)((()=>[r.openModalEdit?((0,o.wg)(),(0,o.j4)(v,{key:0,onAceptarEditar:r.aceptarEditar,onCancelarEditar:r.cancelarEditar,idFacturacion:r.idFacturacion},null,8,["onAceptarEditar","onCancelarEditar","idFacturacion"])):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(n.uT,{name:"modal",mode:"out-in"},{default:(0,o.w5)((()=>[r.openModalError?((0,o.wg)(),(0,o.j4)(x,{key:0,title:"Advertencia",mensaje:"Se debe rellenar todos los campos",onCloseModal:r.closeModalError},null,8,["onCloseModal"])):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(n.uT,{name:"modal",mode:"out-in"},{default:(0,o.w5)((()=>[r.openSuccessEdit?((0,o.wg)(),(0,o.j4)(b,{key:0,title:"Logrado",mensaje:"Se ha editado correctamente",onCloseModal:r.closeSuccessEdit},null,8,["onCloseModal"])):(0,o.kq)("",!0)])),_:1})])}var u=a(4870),p=a(4161);const m="http://67.205.184.183:3020/api/";function g(e){return p.Z.get(`${m}facturaciones/list?codempresa=${e}`)}function v(e){return p.Z.get(`${m}facturaciones/search?idFacturacion=${e}`)}function x(e,t){return p.Z.post(`${m}facturaciones/create`,{descripcion:e,codempresa:t})}function b(e){return p.Z["delete"](`${m}facturaciones/delete?idFacturacion=${e}`)}function w(e,t){return p.Z.put(`${m}facturaciones/edit`,{descripcion:e,id:t})}var f=a(7139);const h={class:"w-full text-xs text-left text-gray-800"},y=(0,o._)("thead",{class:"text-xs text-gray-700 uppercase bg-gray-100"},[(0,o._)("tr",null,[(0,o._)("th",{scope:"col",class:"px-6 py-3"}," Codigo de empresa "),(0,o._)("th",{scope:"col",class:"px-6 py-3"}," Descripción "),(0,o._)("th",{scope:"col",class:"px-6 py-3"}," Estado "),(0,o._)("th",{scope:"col",class:"px-6 py-3"}," Acciones ")])],-1),_={key:0},M=(0,o._)("td",{class:"border px-4 py-4 text-xs text-center",colspan:"5"},"No se encontró ningún dato para esta tabla",-1),k=[M],E={class:"px-6 py-3"},C={scope:"row",class:"px-6 py-3 font-medium text-gray-900 whitespace-nowrap"},F=(0,o._)("td",{class:"px-6 py-3"},[(0,o._)("span",{class:"rounded-xl bg-amber-500 px-3 py-2 text-white"},"Activo")],-1),D={class:"px-6 py-2 flex gap-2"},z=["onClick"],Z=["onClick"];function j(e,t,a,r,l,i){return(0,o.wg)(),(0,o.iD)("table",h,[y,(0,o._)("tbody",null,[0===a.listFacturaciones.length?((0,o.wg)(),(0,o.iD)("tr",_,k)):((0,o.wg)(!0),(0,o.iD)(o.HY,{key:1},(0,o.Ko)(a.listFacturaciones,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.id,class:"bg-white border-b hover:bg-gray-50 ease-in duration-300"},[(0,o._)("td",E,(0,f.zw)(e.codempresa),1),(0,o._)("th",C,(0,f.zw)(e.descripcion),1),F,(0,o._)("td",D,[(0,o._)("button",{class:"font-medium py-[0.5rem] px-3 rounded-lg bg-green-500 hover:bg-green-600 ease-in duration-300 text-white",onClick:(0,n.iM)((t=>i.editarFacturacion(e.id)),["prevent"])},"Editar",8,z),(0,o._)("button",{class:"font-medium py-[0.5rem] px-3 rounded-lg bg-red-500 hover:bg-red-600 ease-in duration-300 text-white",onClick:(0,n.iM)((t=>i.eliminarFacturacion(e.id)),["prevent"])},"Eliminar",8,Z)])])))),128))])])}var S={name:"TableFacturacion",props:{listFacturaciones:Array},methods:{eliminarFacturacion(e){this.$emit("eliminar-facturacion",e)},editarFacturacion(e){this.$emit("editar-facturacion",e)}}},L=a(89);const A=(0,L.Z)(S,[["render",j]]);var I=A;const $={class:"fixed inset-0 flex items-center justify-center z-[9999]"},H=(0,o._)("div",{class:"absolute inset-0 bg-black opacity-30 pointer-events-none"},null,-1),W={class:"relative z-10 p-4 bg-white rounded-xl lg:min-w-[350px] lg:max-w-[450px] min-w-[330px] max-w-[350px]"},T={class:"p-2 text-gray-700 w-full h-full text-sm"},B=(0,o._)("h3",{class:"text-center font-bold text-lg"},"Crear facturación",-1),V={class:"btns flex gap-2 justify-center items-center pt-2"};function q(e,t,a,n,r,l){const i=(0,o.up)("ItemForm");return(0,o.wg)(),(0,o.iD)("div",$,[H,(0,o._)("div",W,[(0,o._)("form",T,[B,(0,o.Wm)(i,{onValueInput:n.saveDescripcion,label:"Descripción",name:"descripcion",placeholder:"Inserte la descripción",value:""},null,8,["onValueInput"])]),(0,o._)("div",V,[(0,o._)("button",{onClick:t[0]||(t[0]=(...e)=>n.closeModal&&n.closeModal(...e)),class:"bg-gray-400 hover:bg-gray-500 text-white text-sm p-2 px-8 rounded-xl transition duration-300"},"Cerrar"),(0,o._)("button",{onClick:t[1]||(t[1]=(...e)=>n.saveDatos&&n.saveDatos(...e)),class:"bg-blue-400 hover:bg-blue-500 text-white text-sm p-2 px-8 rounded-xl transition duration-300"},"Crear")])])])}var N=a(8692),K={name:"ModalCreate",components:{ItemForm:N.Z},emits:["close-modal","save-datos"],setup(e,{emit:t}){const a=(0,u.iH)(""),o=()=>{t("close-modal")},n=e=>{a.value=e},r=()=>{t("save-datos",{descripcion:a.value})};return{closeModal:o,saveDescripcion:n,saveDatos:r}}};const Y=(0,L.Z)(K,[["render",q]]);var G=Y,J=a(4050);const O={class:"fixed inset-0 flex items-center justify-center z-[9999]"},P=(0,o._)("div",{class:"absolute inset-0 bg-black opacity-30 pointer-events-none"},null,-1),Q={class:"relative z-10 p-4 bg-white rounded-xl lg:min-w-[350px] lg:max-w-[450px] min-w-[330px] max-w-[350px]"},R={class:"p-2 text-gray-700 w-full h-full text-sm"},U=(0,o._)("h3",{class:"text-center font-bold text-lg"},"Editar facturación",-1),X={class:"btns flex gap-2 justify-center items-center pt-2"};function ee(e,t,a,n,r,l){const i=(0,o.up)("ItemForm");return(0,o.wg)(),(0,o.iD)("div",O,[P,(0,o._)("div",Q,[(0,o._)("form",R,[U,(0,o.Wm)(i,{onValueInput:n.saveDescripcion,label:"Descripción",name:"descripcion",placeholder:"Inserte la descripción",value:n.descripcion},null,8,["onValueInput","value"])]),(0,o._)("div",X,[(0,o._)("button",{onClick:t[0]||(t[0]=(...e)=>n.closeModal&&n.closeModal(...e)),class:"bg-gray-400 hover:bg-gray-500 text-white text-sm p-2 px-8 rounded-xl transition duration-300"},"Cerrar"),(0,o._)("button",{onClick:t[1]||(t[1]=(...e)=>n.saveDatos&&n.saveDatos(...e)),class:"bg-blue-400 hover:bg-blue-500 text-white text-sm p-2 px-8 rounded-xl transition duration-300"},"Actualizar")])])])}var te={name:"ModalEditar",components:{ItemForm:N.Z},props:{idFacturacion:String},emits:["cancelar-editar","aceptar-editar"],setup(e,{emit:t}){const a=(0,u.iH)(""),n=()=>{t("cancelar-editar")},r=e=>{a.value=e},l=()=>{t("aceptar-editar",{id:e.idFacturacion,descripcion:a.value})};return(0,o.bv)((()=>{v(e.idFacturacion).then((e=>{a.value=e.data.facturaciones[0].descripcion}))})),{descripcion:a,closeModal:n,saveDescripcion:r,saveDatos:l}}};const ae=(0,L.Z)(te,[["render",ee]]);var oe=ae,ne=a(4229),re=a(1968),le=a(4239),ie={name:"AdminFacturacion",components:{TableFacturacion:I,ModalCreate:G,ModalDelete:J.Z,ModalEditar:oe,ModaError:re.Z,ConfirmEdit:ne.Z},setup(){const e=(0,u.iH)(!1),t=(0,u.iH)(!1),a=(0,u.iH)(!1),n=(0,u.iH)(!1),r=(0,u.iH)(!1),l=(0,u.iH)([]),i=(0,u.iH)(""),s=()=>{e.value=!0},c=()=>{e.value=!1},d=()=>{r.value=!1,window.location.reload()},p=e=>{i.value=e,n.value=!0},m=()=>{b(i.value).then((e=>{console.log(e.data),n.value=!1,i.value="",window.location.reload()})).catch((e=>{console.log(e)}))},v=()=>{n.value=!1},f=()=>{t.value=!1},h=e=>{i.value=e,t.value=!0},y=e=>{const o=e.descripcion,n=e.id;""==o?(t.value=!1,a.value=!0):w(o,n).then((e=>{console.log(e.data),t.value=!1,r.value=!0}))},_=()=>{a.value=!1},M=t=>{const o=t.descripcion;""==o?(e.value=!1,a.value=!0):x(o,le.Z.state.codempresa).then((t=>{console.log(t.data),e.value=!1,window.location.reload()}))};return(0,o.bv)((()=>{g(le.Z.state.codempresa).then((e=>{console.log(e.data),l.value=e.data.facturaciones}))})),{listFacturaciones:l,openModal:s,openModalV:e,openModalError:a,openSuccessEdit:r,closeModal:c,closeSuccessEdit:d,closeModalError:_,saveDatos:M,confirmDelete:n,eliminarFacturacion:p,aceptarEliminar:m,cancelarEliminar:v,cancelarEditar:f,editarFacturacion:h,openModalEdit:t,idFacturacion:i,aceptarEditar:y}}};const se=(0,L.Z)(ie,[["render",d],["__scopeId","data-v-067cc750"]]);var ce=se}}]);
//# sourceMappingURL=17.a2041f4c.js.map